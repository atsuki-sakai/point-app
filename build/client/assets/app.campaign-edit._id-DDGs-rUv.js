import{u as _,a as S,r as n,j as e,F as T}from"./components-BGDyOe_B.js";import{P as y,B as c,C as k,T as o,a as v,b as w}from"./Page-BlBOquBD.js";import{L as u}from"./Layout-9hDooW2t.js";import{F as D,T as F}from"./Toast-BgRIItsV.js";import{D as M}from"./DatePicker-BEsvGMWZ.js";import{C as O}from"./Checkbox-s0aEpANt.js";import"./context-D0ShNtlm.js";import"./context-DraICPrr.js";function z(){var d;const{campaign:s}=_(),h=S(),[t,r]=n.useState(s),[{month:p,year:m},x]=n.useState({month:new Date(s.start_date).getMonth(),year:new Date(s.start_date).getFullYear()}),[l,f]=n.useState({start:new Date(s.start_date),end:new Date(s.end_date)}),j=n.useCallback((a,b)=>x({month:a,year:b}),[]),[g,i]=n.useState(!1),C=()=>{if(g)return e.jsx(F,{content:"キャンペーンを編集しました。",onDismiss:()=>i(!1),duration:3e3})};return e.jsx(y,{title:"キャンペーン編集",backAction:{content:"戻る",onAction:()=>h("/app/campaign")},children:e.jsx(u,{children:e.jsx(u.Section,{children:e.jsx(c,{gap:"400",children:e.jsx(D,{children:e.jsxs(k,{children:[C(),e.jsx(T,{method:"POST",children:e.jsxs(c,{gap:"400",children:[e.jsx(o,{label:"キャンペーン名",id:"name",placeholder:"キャンペーン名を入力してください",name:"name",value:t.name,onChange:a=>r({...t,name:a}),autoComplete:"off"}),e.jsx(v,{as:"h2",children:"開催期間"}),e.jsx(M,{month:p,year:m,onChange:f,onMonthChange:j,selected:l,multiMonth:!0,allowRange:!0}),e.jsx(o,{id:"start_date",label:"開始日",placeholder:"開始日を入力してください",name:"start_date",readOnly:!0,value:l.start.toISOString().split("T")[0],autoComplete:"off"}),e.jsx(o,{label:"終了日",id:"end_date",placeholder:"終了日を入力してください",name:"end_date",readOnly:!0,value:l.end.toISOString().split("T")[0],autoComplete:"off"}),e.jsx(o,{label:"キャンペーン期間中のポイント還元率",id:"special_point_rate",placeholder:"ポイント還元率を入力してください",name:"special_point_rate",suffix:"%",type:"number",value:(d=t==null?void 0:t.special_point_rate)==null?void 0:d.toString(),onChange:a=>r({...t,special_point_rate:Number(a)}),autoComplete:"off"}),e.jsx("input",{type:"hidden",name:"publish",value:t!=null&&t.publish?"true":"false"}),e.jsx(O,{label:"キャンペーンを有効にする",checked:t==null?void 0:t.publish,onChange:a=>r({...t,publish:a})}),e.jsx(w,{submit:!0,variant:"primary",size:"large",onClick:()=>i(!0),children:"キャンペーンを編集"})]})})]})})})})})})}export{z as default};
